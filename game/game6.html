<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‰∏ªÊí≠Á≤â‰∏ùÊ®°ÊãüÂô®</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }
        
        .container {
            max-width: 100vw;
            min-height: 100vh;
            position: relative;
            padding-bottom: 80px;
        }
        
        /* ÁôªÂΩïÈ°µÈù¢ */
        .login-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%);
            padding: 20px;
        }
        
        .login-box {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(10px);
            padding: 40px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 350px;
            border: 1px solid rgba(94, 234, 212, 0.2);
        }
        
        .login-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 30px;
            text-align: center;
            background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        .input-label {
            display: block;
            margin-bottom: 8px;
            color: #94a3b8;
            font-size: 14px;
        }
        
        .input-field {
            width: 100%;
            padding: 15px;
            background: rgba(15, 23, 42, 0.5);
            border: 2px solid #334155;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
            color: #e2e8f0;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #38bdf8;
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.3);
        }
        
        .btn-primary {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            -webkit-appearance: none;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(2, 132, 199, 0.4);
        }
        
        .btn-primary:active {
            transform: translateY(0);
        }
        
        .btn-primary::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255,255,255,0.1);
            transform: rotate(30deg);
            transition: all 0.6s;
        }
        
        .btn-primary:hover::after {
            transform: rotate(30deg) translate(20%, 20%);
        }
        
        /* Â∫ïÈÉ®ÂØºËà™ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.3);
            z-index: 1000;
            border-top: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        .nav-item {
            flex: 1;
            text-align: center;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s;
            color: #94a3b8;
            text-decoration: none;
            font-size: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }
        
        .nav-item:hover {
            color: #38bdf8;
        }
        
        .nav-item.active {
            color: #38bdf8;
            position: relative;
        }
        
        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            width: 30%;
            height: 3px;
            background: #38bdf8;
            border-radius: 3px;
        }
        
        .nav-icon {
            font-size: 20px;
            margin-bottom: 2px;
        }
        
        /* ‰∏ªÈ°µ */
        .profile-page {
            display: none;
            min-height: 100vh;
            padding-bottom: 80px;
        }
        
        .profile-header {
            background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%);
            padding: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .profile-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(56, 189, 248, 0.2) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(56, 189, 248, 0.2) 0%, transparent 40%);
            z-index: 0;
        }
        
        .profile-info {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }
        
        .avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(15, 23, 42, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: bold;
            color: #38bdf8;
            margin-right: 20px;
            border: 3px solid rgba(56, 189, 248, 0.5);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.3);
        }
        
        .profile-details {
            flex: 1;
        }
        
        .username {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #f8fafc;
        }
        
        .user-id {
            font-size: 14px;
            color: #cbd5e1;
        }
        
        .profile-stats {
            display: flex;
            justify-content: space-around;
            padding: 20px 0;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 15px;
            position: relative;
            z-index: 1;
            border: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        .stat-item {
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            padding: 5px 10px;
            border-radius: 8px;
        }
        
        .stat-item:hover {
            background: rgba(56, 189, 248, 0.1);
        }
        
        .stat-number {
            font-size: 20px;
            font-weight: bold;
            display: block;
            margin-bottom: 3px;
            color: #38bdf8;
        }
        
        .stat-label {
            font-size: 12px;
            color: #94a3b8;
        }
        
        .profile-bio {
            padding: 15px;
            font-size: 14px;
            line-height: 1.6;
            color: #cbd5e1;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 10px;
            margin: 15px;
            border: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        .profile-actions {
            display: flex;
            gap: 10px;
            padding: 0 20px;
            margin-bottom: 20px;
        }
        
        .btn-follow, .btn-message {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            -webkit-appearance: none;
        }
        
        .btn-follow {
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            color: white;
        }
        
        .btn-follow:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(2, 132, 199, 0.4);
        }
        
        .btn-message {
            background: rgba(15, 23, 42, 0.7);
            color: #38bdf8;
            border: 1px solid #38bdf8;
        }
        
        .btn-message:hover {
            background: rgba(56, 189, 248, 0.1);
        }
        
        .btn-follow.following {
            background: rgba(15, 23, 42, 0.7);
            color: #94a3b8;
            border: 1px solid #334155;
        }
        
        /* ‰ΩúÂìÅÈ°µÈù¢ */
        .works-page {
            display: none;
            min-height: 100vh;
            padding-bottom: 80px;
            background: #0f172a;
        }
        
        .works-header {
            background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        .works-title {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            color: #f8fafc;
        }
        
        .works-list {
            padding: 20px;
        }
        
        .work-item {
            background: rgba(15, 23, 42, 0.7);
            border-radius: 12px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: 1px solid rgba(56, 189, 248, 0.2);
            transition: all 0.3s;
        }
        
        .work-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            border-color: rgba(56, 189, 248, 0.4);
        }
        
        .work-content {
            padding: 20px;
            font-size: 15px;
            line-height: 1.7;
            color: #e2e8f0;
        }
        
        .work-actions {
            display: flex;
            justify-content: space-around;
            padding: 15px;
            border-top: 1px solid rgba(56, 189, 248, 0.1);
            background: rgba(15, 23, 42, 0.5);
        }
        
        .work-action {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.3s;
            color: #94a3b8;
        }
        
        .work-action:hover {
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
        }
        
        .work-action.liked {
            color: #f87171;
        }
        
        .work-action.collected {
            color: #fbbf24;
        }
        
        .work-action-icon {
            font-size: 20px;
        }
        
        .work-action-text {
            font-size: 12px;
        }
        
        /* ÁßÅ‰ø°È°µÈù¢ */
        .message-page {
            display: none;
            min-height: 100vh;
            padding-bottom: 80px;
            background: #0f172a;
        }
        
        .message-header {
            background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        .back-btn {
            font-size: 24px;
            cursor: pointer;
            color: #38bdf8;
            transition: all 0.3s;
        }
        
        .back-btn:hover {
            transform: translateX(-3px);
        }
        
        .message-title {
            font-size: 18px;
            font-weight: bold;
            color: #f8fafc;
        }
        
        .message-list {
            padding: 20px;
            min-height: calc(100vh - 140px);
        }
        
        .message-item {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-end;
            gap: 10px;
            animation: fadeIn 0.3s;
        }
        
        .message-item.user {
            justify-content: flex-end;
        }
        
        .message-bubble {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.5;
            word-wrap: break-word;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .message-item.host .message-bubble {
            background: rgba(30, 41, 59, 0.7);
            color: #e2e8f0;
            border-bottom-left-radius: 4px;
            border: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        .message-item.user .message-bubble {
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }
        
        .message-input-container {
            position: fixed;
            bottom: 80px;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px;
            display: flex;
            gap: 10px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
            border-top: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        .message-input {
            flex: 1;
            padding: 12px 16px;
            background: rgba(30, 41, 59, 0.7);
            border: 1px solid #334155;
            border-radius: 25px;
            font-size: 14px;
            color: #e2e8f0;
        }
        
        .message-input:focus {
            outline: none;
            border-color: #38bdf8;
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.3);
        }
        
        .send-btn {
            padding: 12px 20px;
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            -webkit-appearance: none;
        }
        
        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(2, 132, 199, 0.4);
        }
        
        .send-btn:active {
            transform: translateY(0);
        }
        
        /* ÊàêÂ∞±È°µÈù¢ */
        .achievement-page {
            display: none;
            min-height: 100vh;
            padding-bottom: 80px;
            background: #0f172a;
        }
        
        .achievement-header {
            background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        .achievement-title {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            color: #f8fafc;
        }
        
        .achievement-list {
            padding: 20px;
        }
        
        .achievement-item {
            background: rgba(15, 23, 42, 0.7);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: 1px solid rgba(56, 189, 248, 0.2);
            transition: all 0.3s;
        }
        
        .achievement-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .achievement-item.unlocked {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.2) 0%, rgba(2, 132, 199, 0.2) 100%);
            border: 1px solid rgba(56, 189, 248, 0.4);
        }
        
        .achievement-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(30, 41, 59, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #38bdf8;
            border: 1px solid rgba(56, 189, 248, 0.3);
        }
        
        .achievement-item.unlocked .achievement-icon {
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            color: white;
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.5);
        }
        
        .achievement-info {
            flex: 1;
        }
        
        .achievement-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
            color: #f8fafc;
        }
        
        .achievement-item.unlocked .achievement-name {
            color: #38bdf8;
        }
        
        .achievement-desc {
            font-size: 13px;
            color: #94a3b8;
        }
        
        /* Â∞ÅÂè∑È°µÈù¢ */
        .ban-page {
            display: none;
            min-height: 100vh;
            background: #0f172a;
            text-align: center;
            padding: 40px 20px;
        }
        
        .ban-icon {
            font-size: 80px;
            color: #f87171;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(248, 113, 113, 0.5);
        }
        
        .ban-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #f87171;
        }
        
        .ban-reason {
            font-size: 16px;
            color: #94a3b8;
            margin-bottom: 30px;
        }
        
        .ban-countdown {
            font-size: 18px;
            color: #fbbf24;
            font-weight: 600;
            margin-bottom: 30px;
        }
        
        .ban-appeal {
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            -webkit-appearance: none;
        }
        
        .ban-appeal:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(2, 132, 199, 0.4);
        }
        
        /* ËØÑËÆ∫Ê®°ÊÄÅÊ°Ü */
        .comment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }
        
        .comment-container {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, #0f172a 0%, #1e293b 100%);
            border-radius: 20px 20px 0 0;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            border-top: 1px solid rgba(56, 189, 248, 0.3);
            box-shadow: 0 -10px 30px rgba(0,0,0,0.4);
        }
        
        .comment-header {
            padding: 20px;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            border-bottom: 1px solid rgba(56, 189, 248, 0.1);
            color: #f8fafc;
        }
        
        .comment-close {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #94a3b8;
            transition: all 0.3s;
        }
        
        .comment-close:hover {
            color: #38bdf8;
            transform: rotate(90deg);
        }
        
        .comment-list {
            flex: 1;
            overflow-y: auto;
            padding: 0 20px;
            max-height: 50vh;
        }
        
        .comment-item {
            padding: 15px 0;
            border-bottom: 1px solid rgba(56, 189, 248, 0.1);
            animation: fadeIn 0.3s;
        }
        
        .comment-user {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
            color: #38bdf8;
        }
        
        .comment-content {
            font-size: 14px;
            line-height: 1.5;
            color: #e2e8f0;
        }
        
        .comment-time {
            font-size: 12px;
            color: #94a3b8;
            margin-top: 5px;
        }
        
        .comment-input-container {
            padding: 15px 20px;
            border-top: 1px solid rgba(56, 189, 248, 0.1);
            display: flex;
            gap: 10px;
            background: rgba(15, 23, 42, 0.7);
        }
        
        .comment-input {
            flex: 1;
            padding: 10px 15px;
            background: rgba(30, 41, 59, 0.7);
            border: 1px solid #334155;
            border-radius: 20px;
            font-size: 14px;
            color: #e2e8f0;
        }
        
        .comment-input:focus {
            outline: none;
            border-color: #38bdf8;
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.3);
        }
        
        .comment-submit {
            padding: 10px 20px;
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            -webkit-appearance: none;
        }
        
        .comment-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(2, 132, 199, 0.4);
        }
        
        .comment-submit:active {
            transform: translateY(0);
        }
        
        /* ‰∏ã‰∏ÄÂ§©ÊåâÈíÆ */
        .next-day-btn {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(2, 132, 199, 0.5);
            transition: all 0.3s;
            z-index: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 2px;
            -webkit-appearance: none;
        }
        
        .next-day-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(2, 132, 199, 0.6);
        }
        
        .next-day-btn:active {
            transform: translateY(-1px) scale(1.02);
        }
        
        .next-day-icon {
            font-size: 20px;
        }
        
        .next-day-text {
            font-size: 10px;
        }
        
        /* ‰∫ã‰ª∂ÈÄöÁü• */
        .event-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 14px;
            z-index: 3000;
            animation: slideDown 0.3s;
            max-width: 90%;
            text-align: center;
            border: 1px solid rgba(56, 189, 248, 0.3);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .event-notification.success {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.9) 0%, rgba(2, 132, 199, 0.9) 100%);
        }
        
        .event-notification.warning {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.9) 0%, rgba(245, 158, 11, 0.9) 100%);
        }
        
        .event-notification.error {
            background: linear-gradient(135deg, rgba(248, 113, 113, 0.9) 0%, rgba(239, 68, 68, 0.9) 100%);
        }
        
        /* Âä®Áîª */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translate(-50%, -20px);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 375px) {
            .login-box {
                padding: 30px 20px;
            }
            
            .profile-stats {
                padding: 15px 0;
            }
            
            .stat-number {
                font-size: 18px;
            }
            
            .work-content {
                font-size: 14px;
            }
            
            .message-bubble {
                max-width: 75%;
            }
        }
        
        /* Âä†ËΩΩÂä®Áîª */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ÊªöÂä®Êù°Ê†∑Âºè */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.3);
        }
        
        ::-webkit-scrollbar-thumb {
            background: #38bdf8;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #0ea5e9;
        }
        
        /* ÈÄâÊã©ÊñáÊú¨Ê†∑Âºè */
        ::selection {
            background: rgba(56, 189, 248, 0.3);
            color: #f8fafc;
        }
        
        /* Á¶ÅÁî®Áä∂ÊÄÅ */
        .disabled {
            opacity: 0.5;
            pointer-events: none;
        }
        
        /* Èó™ÁÉÅÊïàÊûú */
        .blink {
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
        
        /* Êï∞Â≠óÂèòÂåñÂä®Áîª */
        .number-change {
            animation: numberChange 0.5s;
        }
        
        @keyframes numberChange {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ÁôªÂΩïÈ°µÈù¢ -->
        <div class="login-page" id="loginPage">
            <div class="login-box">
                <h1 class="login-title">‰∏ªÊí≠Á≤â‰∏ùÊ®°ÊãüÂô®</h1>
                <div class="input-group">
                    <label class="input-label">ËæìÂÖ•‰Ω†ÁöÑÊòµÁß∞</label>
                    <input type="text" class="input-field" id="nicknameInput" placeholder="ËØ∑ËæìÂÖ•ÊòµÁß∞" maxlength="10">
                </div>
                <button class="btn-primary" id="startBtn">Á°ÆÂÆö</button>
            </div>
        </div>
        
        <!-- ‰∏ªÊí≠‰∏ªÈ°µ -->
        <div class="profile-page" id="profilePage">
            <div class="profile-header">
                <div class="profile-info">
                    <div class="avatar" id="hostAvatar">‰∏ª</div>
                    <div class="profile-details">
                        <div class="username" id="hostName">‰∏ªÊí≠ÊòµÁß∞</div>
                        <div class="user-id" id="hostId">ID: 123456</div>
                    </div>
                </div>
                <div class="profile-stats">
                    <div class="stat-item" onclick="showWorks()">
                        <span class="stat-number" id="worksCount">0</span>
                        <span class="stat-label">‰ΩúÂìÅ</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="likesCount">0</span>
                        <span class="stat-label">Ëé∑Ëµû</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="followingCount">0</span>
                        <span class="stat-label">ÂÖ≥Ê≥®</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="followersCount">0</span>
                        <span class="stat-label">Á≤â‰∏ù</span>
                    </div>
                </div>
            </div>
            <div class="profile-bio" id="hostBio">‰∏ªÊí≠ÁÆÄ‰ªã</div>
            <div class="profile-actions">
                <button class="btn-follow following" id="followBtn">Â∑≤ÂÖ≥Ê≥®</button>
                <button class="btn-message" onclick="showMessages()">ÁßÅ‰ø°</button>
            </div>
        </div>
        
        <!-- ‰ΩúÂìÅÈ°µÈù¢ -->
        <div class="works-page" id="worksPage">
            <div class="works-header">
                <div class="back-btn" onclick="showProfile()">‚Äπ</div>
                <div class="works-title">‰ΩúÂìÅ</div>
            </div>
            <div class="works-list" id="worksList"></div>
        </div>
        
        <!-- ÁßÅ‰ø°È°µÈù¢ -->
        <div class="message-page" id="messagePage">
            <div class="message-header">
                <div class="back-btn" onclick="showProfile()">‚Äπ</div>
                <div class="message-title" id="messageTitle">‰∏ªÊí≠ÊòµÁß∞</div>
            </div>
            <div class="message-list" id="messageList"></div>
            <div class="message-input-container">
                <input type="text" class="message-input" id="messageInput" placeholder="ËæìÂÖ•Ê∂àÊÅØ..." maxlength="100">
                <button class="send-btn" onclick="sendMessage()">ÂèëÈÄÅ</button>
            </div>
        </div>
        
        <!-- ÊàêÂ∞±È°µÈù¢ -->
        <div class="achievement-page" id="achievementPage">
            <div class="achievement-header">
                <div class="achievement-title">ÊàêÂ∞±</div>
            </div>
            <div class="achievement-list" id="achievementList"></div>
        </div>
        
        <!-- Â∞ÅÂè∑È°µÈù¢ -->
        <div class="ban-page" id="banPage">
            <div class="ban-icon">üö´</div>
            <div class="ban-title">Ë¥¶Âè∑Ë¢´Â∞ÅÁ¶Å</div>
            <div class="ban-reason" id="banReason">ËøùÂèçÁ§æÂå∫ËßÑÂÆö</div>
            <div class="ban-countdown" id="banCountdown"></div>
            <button class="ban-appeal" onclick="appealBan()">Áî≥ËØâ</button>
        </div>
        
        <!-- ËØÑËÆ∫Ê®°ÊÄÅÊ°Ü -->
        <div class="comment-modal" id="commentModal">
            <div class="comment-container">
                <div class="comment-header">
                    ËØÑËÆ∫Âå∫
                    <div class="comment-close" onclick="closeComments()">√ó</div>
                </div>
                <div class="comment-list" id="commentList"></div>
                <div class="comment-input-container">
                    <input type="text" class="comment-input" id="commentInput" placeholder="ÂèëË°®ËØÑËÆ∫..." maxlength="100">
                    <button class="comment-submit" onclick="postComment()">ÂèëÈÄÅ</button>
                </div>
            </div>
        </div>
        
        <!-- Â∫ïÈÉ®ÂØºËà™ -->
        <div class="bottom-nav" id="bottomNav" style="display: none;">
            <a href="#" class="nav-item active" onclick="showProfile()">
                <div class="nav-icon">üè†</div>
                <div>‰∏ªÈ°µ</div>
            </a>
            <a href="#" class="nav-item" onclick="showWorks()">
                <div class="nav-icon">üé¨</div>
                <div>‰ΩúÂìÅ</div>
            </a>
            <a href="#" class="nav-item" onclick="showMessages()">
                <div class="nav-icon">üí¨</div>
                <div>ÁßÅ‰ø°</div>
            </a>
            <a href="#" class="nav-item" onclick="showAchievements()">
                <div class="nav-icon">üèÜ</div>
                <div>ÊàêÂ∞±</div>
            </a>
        </div>
        
        <!-- ‰∏ã‰∏ÄÂ§©ÊåâÈíÆ -->
        <button class="next-day-btn" id="nextDayBtn" onclick="nextDay()" style="display: none;">
            <div class="next-day-icon">‚è≠</div>
            <div class="next-day-text">‰∏ã‰∏ÄÂ§©</div>
        </button>
    </div>
    
    <script>
        // Ê∏∏ÊàèÊï∞ÊçÆ
        let gameData = {
            nickname: '',
            day: 1,
            host: {
                name: '',
                id: '',
                avatar: '',
                bio: '',
                works: 0,
                likes: 0,
                following: 0,
                followers: 0,
                isBanned: false,
                banDays: 0,
                banType: 0,
                collapseLevel: 0, // Â°åÊàøÁ≠âÁ∫ß 0-3
                lastUpdateDay: 0,
                replyRate: 0.3,
                postRate: 0.5,
                deleteRate: 0.1
            },
            user: {
                following: true,
                messages: [],
                achievements: [],
                totalLikes: 0,
                totalComments: 0,
                totalMessages: 0
            },
            works: [],
            comments: {},
            events: []
        };
        
        // ÈöèÊú∫Êï∞ÊçÆÁîüÊàê
        const hostNames = ['Â∞èÁæé', 'ÈòøÂº∫', 'Â©∑Â©∑', 'Â§ß‰ºü', '‰∏Ω‰∏Ω', 'Â∞èÊòé', 'Â∞èÁ∫¢', 'Â∞èÂàö', 'Ëä±Ëä±', '‰∏ú‰∏ú'];
        const hostBios = [
            'ÂàÜ‰∫´ÁîüÊ¥ªÁÇπÊª¥ÔºåËÆ∞ÂΩïÁæéÂ•ΩÁû¨Èó¥',
            'Âä™ÂäõÊàê‰∏∫Êõ¥Â•ΩÁöÑËá™Â∑±',
            'ÊÑüË∞¢ÊØè‰∏Ä‰∏™ÂÖ≥Ê≥®ÊàëÁöÑ‰∫∫',
            'Áõ¥Êí≠Êó∂Èó¥ÊØèÊôö8ÁÇπ',
            'Êñ∞‰∫∫‰∏ªÊí≠ÔºåËØ∑Â§öÂÖ≥ÁÖß',
            'ÂñúÊ¨¢Âî±Ê≠åË∑≥Ëàû',
            'ÁæéÈ£üÁà±Â•ΩËÄÖ',
            'ÊóÖË°åËææ‰∫∫',
            'Ê∏∏Êàè‰∏ªÊí≠Ôºå‰∏ÄËµ∑ÂºÄÈªë',
            'Êó•Â∏∏ÂàÜ‰∫´ÔºåÊ¨¢ËøéÂÖ≥Ê≥®'
        ];
        const workContents = [
            '‰ªäÂ§©Â§©Ê∞îÁúüÂ•ΩÔºåÂøÉÊÉÖ‰πüË∑üÁùÄÂ•ΩËµ∑Êù•‰∫ÜÔºÅ',
            'ÊÑüË∞¢Â§ßÂÆ∂ÁöÑÊîØÊåÅÔºåÊàë‰ºöÁªßÁª≠Âä™ÂäõÁöÑÔºÅ',
            'ÂàöÂàöÂ∞ùËØï‰∫ÜÊñ∞ÂèëÂûãÔºåÂ§ßÂÆ∂ËßâÂæóÊÄé‰πàÊ†∑Ôºü',
            '‰ªäÂ§©Â≠¶‰ºö‰∫ÜÊñ∞ËàûËπàÔºåÂàÜ‰∫´ÁªôÂ§ßÂÆ∂',
            'Êé®Ëçê‰∏ÄÂÆ∂Ë∂ÖÂ•ΩÂêÉÁöÑÈ§êÂéÖ',
            '‰ªäÂ§©ÁöÑÂ¶ÜÂÆπÊïôÁ®ãÊù•‰∫Ü',
            'ÂàÜ‰∫´ÊàëÁöÑÂÅ•Ë∫´Êó•Â∏∏',
            'Êñ∞‰π∞ÁöÑË°£ÊúçÔºåÂ§ßÂÆ∂ËßâÂæóÂ•ΩÁúãÂêóÔºü',
            '‰ªäÂ§©Âéª‰∫Ü‰∏Ä‰∏™ÂæàÁæéÁöÑÂú∞Êñπ',
            'ÁªôÂ§ßÂÆ∂Âî±‰∏ÄÈ¶ñÊñ∞Ê≠å'
        ];
        const randomComments = [
            '‰∏ªÊí≠Â•ΩÊ£íÔºÅ',
            'ÊîØÊåÅÊîØÊåÅÔºÅ',
            'Êù•‰∫ÜÊù•‰∫Ü',
            '‰∏ªÊí≠‰ªäÂ§©Â•ΩÁæé',
            'Âä†Ê≤πÂä†Ê≤π',
            'Â∑≤ÁÇπËµû',
            'ÂâçÊéíÊîØÊåÅ',
            '‰∏ªÊí≠‰∫∫ÁúüÂ•Ω',
            'ÂÖ≥Ê≥®‰∫Ü',
            '‰∏ªÊí≠Âî±ÂæóÁúüÂ•ΩÂê¨'
        ];
        
        // ÊàêÂ∞±ÂàóË°®
        const achievementsList = [
            { id: 'first_day', name: 'Êñ∞ÁöÑ‰∏ÄÂ§©', desc: 'ÂºÄÂßãÊ∏∏Êàè', icon: 'üåÖ' },
            { id: 'first_like', name: 'ÂàùÊ¨°ÁÇπËµû', desc: 'Á¨¨‰∏ÄÊ¨°ÁÇπËµû‰ΩúÂìÅ', icon: 'üëç' },
            { id: 'first_comment', name: 'ÂàùÊ¨°ËØÑËÆ∫', desc: 'Á¨¨‰∏ÄÊ¨°ÂèëË°®ËØÑËÆ∫', icon: 'üí¨' },
            { id: 'first_message', name: 'ÂàùÊ¨°ÁßÅ‰ø°', desc: 'Á¨¨‰∏ÄÊ¨°ÂèëÈÄÅÁßÅ‰ø°', icon: 'üìß' },
            { id: 'fan_100', name: 'Â∞èÊúâÂêçÊ∞î', desc: '‰∏ªÊí≠Á≤â‰∏ùËææÂà∞100', icon: '‚≠ê' },
            { id: 'fan_1000', name: 'ÁΩëÁ∫¢‰∏ªÊí≠', desc: '‰∏ªÊí≠Á≤â‰∏ùËææÂà∞1000', icon: 'üåü' },
            { id: 'fan_10000', name: 'Ë∂ÖÁ∫ßÁΩëÁ∫¢', desc: '‰∏ªÊí≠Á≤â‰∏ùËææÂà∞10000', icon: '‚ú®' },
            { id: 'work_10', name: 'Â§ö‰∫ß‰∏ªÊí≠', desc: '‰∏ªÊí≠ÂèëÂ∏É10‰∏™‰ΩúÂìÅ', icon: 'üé¨' },
            { id: 'collapse_1', name: 'È£éÈõ®Ê¨≤Êù•', desc: 'ÁªèÂéÜ‰∏ÄÊ¨°Â°åÊàø', icon: '‚ö°' },
            { id: 'ban_1', name: 'ÂàùÊ¨°Â∞ÅÁ¶Å', desc: 'ÁªèÂéÜ‰∏ÄÊ¨°Â∞ÅÁ¶Å', icon: 'üö´' },
            { id: 'day_7', name: '‰∏ÄÂë®Á≤â‰∏ù', desc: 'ËøûÁª≠ÂÖ≥Ê≥®7Â§©', icon: 'üóìÔ∏è' },
            { id: 'day_30', name: 'Âø†ÂÆûÁ≤â‰∏ù', desc: 'ËøûÁª≠ÂÖ≥Ê≥®30Â§©', icon: 'üìÖ' },
            { id: 'lucky_reply', name: 'Âπ∏ËøêÂÑø', desc: 'Ëé∑Âæó‰∏ªÊí≠ÂõûÂ§ç', icon: 'üçÄ' },
            { id: 'all_works', name: 'ÂÖ®‰ΩúÂìÅÁÇπËµû', desc: 'ÁÇπËµûÊâÄÊúâ‰ΩúÂìÅ', icon: '‚ù§Ô∏è' },
            { id: 'active_fan', name: 'Ê¥ªË∑ÉÁ≤â‰∏ù', desc: 'ÂçïÊó•ÁÇπËµû10Ê¨°', icon: 'üî•' }
        ];
        
        // ÂàùÂßãÂåñÊ∏∏Êàè
        function initGame() {
            // Â∞ùËØïÂä†ËΩΩÂ≠òÊ°£
            const savedData = localStorage.getItem('streamerFanSimulator');
            if (savedData) {
                gameData = JSON.parse(savedData);
                if (gameData.nickname) {
                    showProfile();
                    return;
                }
            }
            
            // ÁîüÊàêÈöèÊú∫‰∏ªÊí≠Êï∞ÊçÆ
            generateHostData();
        }
        
        // ÁîüÊàê‰∏ªÊí≠Êï∞ÊçÆ
        function generateHostData() {
            const name = hostNames[Math.floor(Math.random() * hostNames.length)];
            gameData.host.name = name;
            gameData.host.id = 'ID: ' + Math.floor(100000 + Math.random() * 900000);
            gameData.host.avatar = name[0];
            gameData.host.bio = hostBios[Math.floor(Math.random() * hostBios.length)];
            gameData.host.works = Math.floor(Math.random() * 50) + 10;
            gameData.host.likes = Math.floor(Math.random() * 10000) + 1000;
            gameData.host.following = Math.floor(Math.random() * 100) + 10;
            gameData.host.followers = Math.floor(Math.random() * 1000) + 100;
        }
        
        // ÂºÄÂßãÊ∏∏Êàè
        document.getElementById('startBtn').addEventListener('click', function() {
            const nickname = document.getElementById('nicknameInput').value.trim();
            if (!nickname) {
                showNotification('ËØ∑ËæìÂÖ•ÊòµÁß∞', 'warning');
                return;
            }
            
            gameData.nickname = nickname;
            saveGame();
            showProfile();
            unlockAchievement('first_day');
        });
        
        // ÊòæÁ§∫‰∏ªÈ°µ
        function showProfile() {
            hideAllPages();
            document.getElementById('profilePage').style.display = 'block';
            document.getElementById('bottomNav').style.display = 'flex';
            document.getElementById('nextDayBtn').style.display = 'flex';
            
            updateNavActive(0);
            updateProfile();
            
            // Ê£ÄÊü•Â∞ÅÂè∑Áä∂ÊÄÅ
            if (gameData.host.isBanned) {
                showBanPage();
            }
        }
        
        // ÊòæÁ§∫‰ΩúÂìÅÈ°µÈù¢
        function showWorks() {
            hideAllPages();
            document.getElementById('worksPage').style.display = 'block';
            document.getElementById('bottomNav').style.display = 'flex';
            document.getElementById('nextDayBtn').style.display = 'flex';
            
            updateNavActive(1);
            updateWorksList();
        }
        
        // ÊòæÁ§∫ÁßÅ‰ø°È°µÈù¢
        function showMessages() {
            hideAllPages();
            document.getElementById('messagePage').style.display = 'block';
            document.getElementById('bottomNav').style.display = 'flex';
            document.getElementById('nextDayBtn').style.display = 'flex';
            
            updateNavActive(2);
            updateMessageList();
        }
        
        // ÊòæÁ§∫ÊàêÂ∞±È°µÈù¢
        function showAchievements() {
            hideAllPages();
            document.getElementById('achievementPage').style.display = 'block';
            document.getElementById('bottomNav').style.display = 'flex';
            document.getElementById('nextDayBtn').style.display = 'flex';
            
            updateNavActive(3);
            updateAchievementList();
        }
        
        // ÈöêËóèÊâÄÊúâÈ°µÈù¢
        function hideAllPages() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('profilePage').style.display = 'none';
            document.getElementById('worksPage').style.display = 'none';
            document.getElementById('messagePage').style.display = 'none';
            document.getElementById('achievementPage').style.display = 'none';
            document.getElementById('banPage').style.display = 'none';
            document.getElementById('commentModal').style.display = 'none';
        }
        
        // Êõ¥Êñ∞ÂØºËà™ÊøÄÊ¥ªÁä∂ÊÄÅ
        function updateNavActive(index) {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach((item, i) => {
                if (i === index) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }
        
        // Êõ¥Êñ∞‰∏ªÈ°µÊï∞ÊçÆ
        function updateProfile() {
            document.getElementById('hostAvatar').textContent = gameData.host.avatar;
            document.getElementById('hostName').textContent = gameData.host.name;
            document.getElementById('hostId').textContent = gameData.host.id;
            document.getElementById('hostBio').textContent = gameData.host.bio;
            
            animateNumber('worksCount', gameData.host.works);
            animateNumber('likesCount', gameData.host.likes);
            animateNumber('followingCount', gameData.host.following);
            animateNumber('followersCount', gameData.host.followers);
            
            // Êõ¥Êñ∞ÂÖ≥Ê≥®ÊåâÈíÆ
            const followBtn = document.getElementById('followBtn');
            if (gameData.user.following) {
                followBtn.textContent = 'Â∑≤ÂÖ≥Ê≥®';
                followBtn.classList.add('following');
            } else {
                followBtn.textContent = 'ÂÖ≥Ê≥®';
                followBtn.classList.remove('following');
            }
            
            // ÂÖ≥Ê≥®ÊåâÈíÆ‰∫ã‰ª∂
            followBtn.onclick = function() {
                if (gameData.host.isBanned) {
                    showNotification('‰∏ªÊí≠Ë¢´Â∞ÅÁ¶Å‰∏≠ÔºåÊó†Ê≥ïÊìç‰Ωú', 'warning');
                    return;
                }
                
                gameData.user.following = !gameData.user.following;
                if (gameData.user.following) {
                    gameData.host.followers++;
                    showNotification('ÂÖ≥Ê≥®ÊàêÂäü', 'success');
                } else {
                    gameData.host.followers--;
                    showNotification('Â∑≤ÂèñÊ∂àÂÖ≥Ê≥®', 'warning');
                }
                updateProfile();
                saveGame();
            };
        }
        
        // Êï∞Â≠óÂä®Áîª
        function animateNumber(elementId, targetValue) {
            const element = document.getElementById(elementId);
            const currentValue = parseInt(element.textContent) || 0;
            const increment = (targetValue - currentValue) / 20;
            let step = 0;
            
            const timer = setInterval(() => {
                step++;
                const newValue = Math.floor(currentValue + increment * step);
                element.textContent = formatNumber(newValue);
                
                if (step >= 20) {
                    element.textContent = formatNumber(targetValue);
                    element.classList.add('number-change');
                    setTimeout(() => element.classList.remove('number-change'), 500);
                    clearInterval(timer);
                }
            }, 25);
        }
        
        // Ê†ºÂºèÂåñÊï∞Â≠ó
        function formatNumber(num) {
            if (num >= 10000) {
                return (num / 10000).toFixed(1) + 'w';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'k';
            }
            return num.toString();
        }
        
        // Êõ¥Êñ∞‰ΩúÂìÅÂàóË°®
        function updateWorksList() {
            const worksList = document.getElementById('worksList');
            worksList.innerHTML = '';
            
            // ÁîüÊàê‰ΩúÂìÅ
            for (let i = 0; i < gameData.host.works; i++) {
                if (!gameData.works[i]) {
                    gameData.works[i] = {
                        id: i,
                        content: workContents[Math.floor(Math.random() * workContents.length)],
                        likes: Math.floor(Math.random() * 1000) + 100,
                        comments: Math.floor(Math.random() * 100) + 10,
                        collections: Math.floor(Math.random() * 200) + 20,
                        shares: Math.floor(Math.random() * 50) + 5,
                        isLiked: false,
                        isCollected: false,
                        commentsList: []
                    };
                }
                
                const work = gameData.works[i];
                const workItem = document.createElement('div');
                workItem.className = 'work-item';
                workItem.innerHTML = `
                    <div class="work-content">${work.content}</div>
                    <div class="work-actions">
                        <div class="work-action ${work.isLiked ? 'liked' : ''}" onclick="toggleLike(${i})">
                            <div class="work-action-icon">${work.isLiked ? '‚ù§Ô∏è' : 'ü§ç'}</div>
                            <div class="work-action-text">${formatNumber(work.likes)}</div>
                        </div>
                        <div class="work-action" onclick="showComments(${i})">
                            <div class="work-action-icon">üí¨</div>
                            <div class="work-action-text">${formatNumber(work.comments)}</div>
                        </div>
                        <div class="work-action ${work.isCollected ? 'collected' : ''}" onclick="toggleCollect(${i})">
                            <div class="work-action-icon">${work.isCollected ? '‚≠ê' : '‚òÜ'}</div>
                            <div class="work-action-text">${formatNumber(work.collections)}</div>
                        </div>
                        <div class="work-action" onclick="shareWork(${i})">
                            <div class="work-action-icon">‚ÜóÔ∏è</div>
                            <div class="work-action-text">${formatNumber(work.shares)}</div>
                        </div>
                    </div>
                `;
                worksList.appendChild(workItem);
            }
            
            saveGame();
        }
        
        // ÁÇπËµûÂäüËÉΩ
        function toggleLike(workIndex) {
            const work = gameData.works[workIndex];
            if (work.isLiked) {
                work.likes--;
                work.isLiked = false;
                gameData.user.totalLikes--;
                showNotification('Â∑≤ÂèñÊ∂àÁÇπËµû', 'warning');
            } else {
                work.likes++;
                work.isLiked = true;
                gameData.user.totalLikes++;
                showNotification('ÁÇπËµûÊàêÂäü', 'success');
                unlockAchievement('first_like');
                
                // Ê£ÄÊü•ÊòØÂê¶ÁÇπËµû‰∫ÜÊâÄÊúâ‰ΩúÂìÅ
                const allLiked = gameData.works.every(w => w.isLiked);
                if (allLiked) unlockAchievement('all_works');
                
                // Ê£ÄÊü•ÂçïÊó•ÁÇπËµûÊï∞
                if (gameData.user.totalLikes >= 10) unlockAchievement('active_fan');
            }
            
            updateWorksList();
            saveGame();
        }
        
        // Êî∂ËóèÂäüËÉΩ
        function toggleCollect(workIndex) {
            const work = gameData.works[workIndex];
            if (work.isCollected) {
                work.collections--;
                work.isCollected = false;
                showNotification('Â∑≤ÂèñÊ∂àÊî∂Ëóè', 'warning');
            } else {
                work.collections++;
                work.isCollected = true;
                showNotification('Êî∂ËóèÊàêÂäü', 'success');
            }
            
            updateWorksList();
            saveGame();
        }
        
        // ÂàÜ‰∫´ÂäüËÉΩ
        function shareWork(workIndex) {
            const work = gameData.works[workIndex];
            work.shares++;
            showNotification('ÂàÜ‰∫´ÊàêÂäü', 'success');
            updateWorksList();
            saveGame();
        }
        
        // ÊòæÁ§∫ËØÑËÆ∫
        function showComments(workIndex) {
            const modal = document.getElementById('commentModal');
            modal.style.display = 'block';
            modal.dataset.workIndex = workIndex;
            
            const commentList = document.getElementById('commentList');
            commentList.innerHTML = '';
            
            const work = gameData.works[workIndex];
            
            // ÁîüÊàêËØÑËÆ∫
            if (!work.commentsList || work.commentsList.length === 0) {
                for (let i = 0; i < work.comments; i++) {
                    work.commentsList.push({
                        user: 'Áî®Êà∑' + Math.floor(100000 + Math.random() * 900000),
                        content: randomComments[Math.floor(Math.random() * randomComments.length)],
                        time: Math.floor(Math.random() * 24) + 'Â∞èÊó∂Ââç'
                    });
                }
            }
            
            // ÊòæÁ§∫ËØÑËÆ∫
            work.commentsList.forEach(comment => {
                const commentItem = document.createElement('div');
                commentItem.className = 'comment-item';
                commentItem.innerHTML = `
                    <div class="comment-user">${comment.user}</div>
                    <div class="comment-content">${comment.content}</div>
                    <div class="comment-time">${comment.time}</div>
                `;
                commentList.appendChild(commentItem);
            });
            
            saveGame();
        }
        
        // ÂÖ≥Èó≠ËØÑËÆ∫
        function closeComments() {
            document.getElementById('commentModal').style.display = 'none';
        }
        
        // ÂèëË°®ËØÑËÆ∫
        function postComment() {
            const input = document.getElementById('commentInput');
            const content = input.value.trim();
            if (!content) {
                showNotification('ËØ∑ËæìÂÖ•ËØÑËÆ∫ÂÜÖÂÆπ', 'warning');
                return;
            }
            
            const workIndex = document.getElementById('commentModal').dataset.workIndex;
            const work = gameData.works[workIndex];
            
            work.commentsList.unshift({
                user: gameData.nickname,
                content: content,
                time: 'ÂàöÂàö'
            });
            
            work.comments++;
            input.value = '';
            showNotification('ËØÑËÆ∫ÂèëË°®ÊàêÂäü', 'success');
            unlockAchievement('first_comment');
            
            // ‰∏ªÊí≠Ê¶ÇÁéáÂõûÂ§ç
            if (Math.random() < gameData.host.replyRate) {
                setTimeout(() => {
                    work.commentsList.unshift({
                        user: gameData.host.name,
                        content: 'Ë∞¢Ë∞¢‰Ω†ÁöÑÊîØÊåÅÔºÅ',
                        time: 'ÂàöÂàö'
                    });
                    work.comments++;
                    showComments(workIndex);
                    showNotification('‰∏ªÊí≠ÂõûÂ§ç‰∫Ü‰Ω†ÁöÑËØÑËÆ∫ÔºÅ', 'success');
                    unlockAchievement('lucky_reply');
                }, 2000);
            }
            
            showComments(workIndex);
            updateWorksList();
            saveGame();
        }
        
        // Êõ¥Êñ∞ÁßÅ‰ø°ÂàóË°®
        function updateMessageList() {
            const messageList = document.getElementById('messageList');
            messageList.innerHTML = '';
            
            gameData.user.messages.forEach((msg, index) => {
                const messageItem = document.createElement('div');
                messageItem.className = `message-item ${msg.isUser ? 'user' : 'host'}`;
                messageItem.innerHTML = `
                    <div class="message-bubble">${msg.content}</div>
                `;
                messageList.appendChild(messageItem);
            });
            
            // ÊªöÂä®Âà∞Â∫ïÈÉ®
            messageList.scrollTop = messageList.scrollHeight;
        }
        
        // ÂèëÈÄÅÁßÅ‰ø°
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const content = input.value.trim();
            if (!content) {
                showNotification('ËØ∑ËæìÂÖ•Ê∂àÊÅØÂÜÖÂÆπ', 'warning');
                return;
            }
            
            if (gameData.host.isBanned) {
                showNotification('‰∏ªÊí≠Ë¢´Â∞ÅÁ¶Å‰∏≠ÔºåÊó†Ê≥ïÂèëÈÄÅÁßÅ‰ø°', 'warning');
                return;
            }
            
            // Ê∑ªÂä†Áî®Êà∑Ê∂àÊÅØ
            gameData.user.messages.push({
                content: content,
                isUser: true,
                time: Date.now()
            });
            
            gameData.user.totalMessages++;
            input.value = '';
            unlockAchievement('first_message');
            
            // ‰∏ªÊí≠Ê¶ÇÁéáÂõûÂ§ç
            if (Math.random() < gameData.host.replyRate) {
                setTimeout(() => {
                    const replies = [
                        'Ë∞¢Ë∞¢‰Ω†ÁöÑÊîØÊåÅÔºÅ',
                        'Êàë‰ºöÁªßÁª≠Âä™ÂäõÁöÑÔºÅ',
                        '‰ªäÂ§©Áõ¥Êí≠ËßÅÂì¶',
                        '‰Ω†ÁöÑÂª∫ËÆÆÊàëÊî∂Âà∞‰∫Ü',
                        '‰∏ÄËµ∑Âä†Ê≤πÔºÅ',
                        'ÊÑüË∞¢Èô™‰º¥',
                        'ÊúâÊñ∞‰ΩúÂìÅËÆ∞ÂæóÁúãÂì¶',
                        '‰ªäÂ§©ÂøÉÊÉÖÂæàÂ•Ω'
                    ];
                    
                    const reply = replies[Math.floor(Math.random() * replies.length)];
                    gameData.user.messages.push({
                        content: reply,
                        isUser: false,
                        time: Date.now()
                    });
                    
                    updateMessageList();
                    showNotification('‰∏ªÊí≠ÂõûÂ§ç‰∫Ü‰Ω†ÁöÑÁßÅ‰ø°ÔºÅ', 'success');
                    unlockAchievement('lucky_reply');
                }, 1000 + Math.random() * 3000);
            }
            
            updateMessageList();
            saveGame();
        }
        
        // Êõ¥Êñ∞ÊàêÂ∞±ÂàóË°®
        function updateAchievementList() {
            const achievementList = document.getElementById('achievementList');
            achievementList.innerHTML = '';
            
            achievementsList.forEach(achievement => {
                const achievementItem = document.createElement('div');
                achievementItem.className = `achievement-item ${gameData.user.achievements.includes(achievement.id) ? 'unlocked' : ''}`;
                achievementItem.innerHTML = `
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div class="achievement-info">
                        <div class="achievement-name">${achievement.name}</div>
                        <div class="achievement-desc">${achievement.desc}</div>
                    </div>
                `;
                achievementList.appendChild(achievementItem);
            });
        }
        
        // Ëß£ÈîÅÊàêÂ∞±
        function unlockAchievement(achievementId) {
            if (!gameData.user.achievements.includes(achievementId)) {
                gameData.user.achievements.push(achievementId);
                const achievement = achievementsList.find(a => a.id === achievementId);
                if (achievement) {
                    showNotification(`üèÜ Ëß£ÈîÅÊàêÂ∞±Ôºö${achievement.name}`, 'success');
                }
                saveGame();
            }
        }
        
        // ÊòæÁ§∫Â∞ÅÂè∑È°µÈù¢
        function showBanPage() {
            hideAllPages();
            document.getElementById('banPage').style.display = 'block';
            document.getElementById('bottomNav').style.display = 'none';
            document.getElementById('nextDayBtn').style.display = 'none';
            
            const banReasons = ['ËøùÂèçÁ§æÂå∫ËßÑÂÆö', 'ÂèëÂ∏É‰∏çÂΩìÂÜÖÂÆπ', 'Ê∂âÂ´åËøùËßÑÊìç‰Ωú', 'Áî®Êà∑‰∏æÊä•Â±ûÂÆû'];
            document.getElementById('banReason').textContent = banReasons[Math.floor(Math.random() * banReasons.length)];
            
            if (gameData.host.banDays > 0 && gameData.host.banDays < 999) {
                document.getElementById('banCountdown').textContent = `Ë∑ùÁ¶ªËß£Â∞ÅËøòÊúâ ${gameData.host.banDays} Â§©`;
            } else if (gameData.host.banDays === 999) {
                document.getElementById('banCountdown').textContent = 'Ê∞∏‰πÖÂ∞ÅÁ¶Å';
            }
            
            // Ê†πÊçÆÂ∞ÅÂè∑Á±ªÂûãÊòæÁ§∫‰∏çÂêåÂÜÖÂÆπ
            const hostAvatar = document.getElementById('hostAvatar');
            const hostName = document.getElementById('hostName');
            const profileInfo = document.querySelector('.profile-info');
            const profileStats = document.querySelector('.profile-stats');
            const worksList = document.getElementById('worksList');
            
            switch (gameData.host.banType) {
                case 1: // Â§¥ÂÉèÂèòÁôΩÔºåÂêçÂ≠óÂíåID‰∏ÄÊ†∑ÔºåÊòæÁ§∫Â∞ÅÁ¶ÅÔºå‰∏çÊòæÁ§∫‰ΩúÂìÅ
                    hostAvatar.style.background = 'linear-gradient(135deg, #64748b 0%, #475569 100%)';
                    hostAvatar.style.color = '#cbd5e1';
                    hostName.textContent = 'Â∑≤Â∞ÅÁ¶Å';
                    profileInfo.style.opacity = '0.5';
                    profileStats.style.display = 'none';
                    break;
                case 2: // Â§¥ÂÉè„ÄÅÂêçÂ≠ó„ÄÅID„ÄÅ‰ΩúÂìÅ‰∏çÂèòÔºåÊòæÁ§∫Â∞ÅÁ¶Å
                    // Ê≠£Â∏∏ÊòæÁ§∫Ôºå‰ΩÜÊ∑ªÂä†Â∞ÅÁ¶ÅÊ†áËØÜ
                    const banBadge = document.createElement('div');
                    banBadge.textContent = 'Â∞ÅÁ¶Å‰∏≠';
                    banBadge.style.cssText = `
                        position: absolute;
                        top: 10px;
                        right: 10px;
                        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
                        color: white;
                        padding: 5px 15px;
                        border-radius: 20px;
                        font-size: 12px;
                        font-weight: bold;
                        box-shadow: 0 2px 10px rgba(220, 38, 38, 0.3);
                        z-index: 10;
                    `;
                    document.querySelector('.profile-header').appendChild(banBadge);
                    break;
                case 3: // Â§¥ÂÉè„ÄÅÂêçÂ≠ó„ÄÅID‰∏çÂèòÔºå‰ΩúÂìÅ‰∏çÊòæÁ§∫ÔºåÊòæÁ§∫Â∞ÅÁ¶Å
                    // Ê∑ªÂä†Â∞ÅÁ¶ÅÊ†áËØÜ
                    const banBadge3 = document.createElement('div');
                    banBadge3.textContent = 'Â∞ÅÁ¶Å‰∏≠';
                    banBadge3.style.cssText = `
                        position: absolute;
                        top: 10px;
                        right: 10px;
                        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
                        color: white;
                        padding: 5px 15px;
                        border-radius: 20px;
                        font-size: 12px;
                        font-weight: bold;
                        box-shadow: 0 2px 10px rgba(220, 38, 38, 0.3);
                        z-index: 10;
                    `;
                    document.querySelector('.profile-header').appendChild(banBadge3);
                    break;
            }
        }
        
        // Áî≥ËØâÂ∞ÅÂè∑
        function appealBan() {
            if (Math.random() < 0.3) {
                gameData.host.isBanned = false;
                gameData.host.banDays = 0;
                gameData.host.banType = 0;
                showNotification('Áî≥ËØâÊàêÂäüÔºåË¥¶Âè∑Â∑≤Ëß£Â∞ÅÔºÅ', 'success');
                showProfile();
                saveGame();
            } else {
                showNotification('Áî≥ËØâÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÂÜçËØï', 'warning');
            }
        }
        
        // ‰∏ã‰∏ÄÂ§©
        function nextDay() {
            gameData.day++;
            
            // ÈöèÊú∫‰∫ã‰ª∂
            triggerRandomEvent();
            
            // ‰∏ªÊí≠Ë°å‰∏∫
            hostBehavior();
            
            // Ê£ÄÊü•Â∞ÅÂè∑
            if (gameData.host.isBanned && gameData.host.banDays > 0) {
                gameData.host.banDays--;
                if (gameData.host.banDays === 0) {
                    gameData.host.isBanned = false;
                    gameData.host.banType = 0;
                    showNotification('‰∏ªÊí≠Ë¥¶Âè∑Â∑≤Ëß£Â∞Å', 'success');
                }
            }
            
            // Ê£ÄÊü•ÊàêÂ∞±
            checkAchievements();
            
            saveGame();
            showNotification(`Á¨¨ ${gameData.day} Â§©`, 'success');
            
            // Êõ¥Êñ∞È°µÈù¢
            if (document.getElementById('profilePage').style.display === 'block') {
                updateProfile();
            } else if (document.getElementById('worksPage').style.display === 'block') {
                updateWorksList();
            }
        }
        
        // Ëß¶ÂèëÈöèÊú∫‰∫ã‰ª∂
        function triggerRandomEvent() {
            const events = [];
            
            // Ê†πÊçÆÂ°åÊàøÁ≠âÁ∫ßË∞ÉÊï¥‰∫ã‰ª∂Ê¶ÇÁéá
            const collapseModifier = gameData.host.collapseLevel * 0.2;
            
            // Ê∂®Á≤â‰∫ã‰ª∂
            if (Math.random() < 0.3 - collapseModifier) {
                const gain = Math.floor(Math.random() * 100) + 10;
                gameData.host.followers += gain;
                events.push(`‰∏ªÊí≠ÂèëÂ∏É‰∫Ü‰ºòË¥®ÂÜÖÂÆπÔºåÊ∂®Á≤â ${gain} ‰∫∫`);
            }
            
            // ÊéâÁ≤â‰∫ã‰ª∂
            if (Math.random() < 0.2 + collapseModifier) {
                const loss = Math.floor(Math.random() * 50) + 5;
                gameData.host.followers = Math.max(0, gameData.host.followers - loss);
                events.push(`‰∏ªÊí≠ÁÉ≠Â∫¶‰∏ãÈôçÔºåÊéâÁ≤â ${loss} ‰∫∫`);
            }
            
            // Â°åÊàø‰∫ã‰ª∂
            if (gameData.host.collapseLevel === 0 && Math.random() < 0.05) {
                gameData.host.collapseLevel = 1;
                events.push('‰∏ªÊí≠Áñë‰ººÂ°åÊàøÔºåÁ≤â‰∏ùËÆÆËÆ∫Á∫∑Á∫∑');
                unlockAchievement('collapse_1');
            }
            
            // Â∞ÅÁ¶Å‰∫ã‰ª∂
            if (!gameData.host.isBanned && Math.random() < 0.03) {
                const banTypes = [1, 3, 15, 30, 999];
                const banDays = banTypes[Math.floor(Math.random() * banTypes.length)];
                gameData.host.isBanned = true;
                gameData.host.banDays = banDays;
                gameData.host.banType = Math.floor(Math.random() * 3) + 1;
                events.push(`‰∏ªÊí≠Âõ†ËøùËßÑË¢´Â∞ÅÁ¶Å ${banDays === 999 ? 'Ê∞∏‰πÖ' : banDays + 'Â§©'}`);
                unlockAchievement('ban_1');
            }
            
            // ÊòæÁ§∫‰∫ã‰ª∂ÈÄöÁü•
            if (events.length > 0) {
                const randomEvent = events[Math.floor(Math.random() * events.length)];
                showNotification(randomEvent, 'warning');
            }
        }
        
        // ‰∏ªÊí≠Ë°å‰∏∫
        function hostBehavior() {
            if (gameData.host.isBanned) return;
            
            // ÂèëÂ∏É‰ΩúÂìÅ
            if (gameData.host.collapseLevel < 2 && Math.random() < gameData.host.postRate) {
                gameData.host.works++;
                showNotification('‰∏ªÊí≠ÂèëÂ∏É‰∫ÜÊñ∞‰ΩúÂìÅ', 'success');
                
                // Êõ¥Êñ∞‰ΩúÂìÅÂàóË°®
                const newWork = {
                    id: gameData.works.length,
                    content: workContents[Math.floor(Math.random() * workContents.length)],
                    likes: Math.floor(Math.random() * 500) + 50,
                    comments: Math.floor(Math.random() * 50) + 5,
                    collections: Math.floor(Math.random() * 100) + 10,
                    shares: Math.floor(Math.random() * 30) + 3,
                    isLiked: false,
                    isCollected: false,
                    commentsList: []
                };
                gameData.works.unshift(newWork);
            }
            
            // Â°åÊàøÂêéÂà†Èô§‰ΩúÂìÅ
            if (gameData.host.collapseLevel >= 2 && Math.random() < gameData.host.deleteRate) {
                if (gameData.works.length > 0) {
                    gameData.works.shift();
                    gameData.host.works = Math.max(0, gameData.host.works - 1);
                    showNotification('‰∏ªÊí≠Âà†Èô§‰∫Ü‰∏Ä‰∏™‰ΩúÂìÅ', 'warning');
                }
            }
            
            // ÈïøÊúü‰∏çÊõ¥Êñ∞ÊéâÁ≤â
            if (gameData.day - gameData.host.lastUpdateDay > 3) {
                const loss = Math.floor(Math.random() * 20) + 5;
                gameData.host.followers = Math.max(0, gameData.host.followers - loss);
                gameData.host.lastUpdateDay = gameData.day;
            }
        }
        
        // Ê£ÄÊü•ÊàêÂ∞±
        function checkAchievements() {
            // Á≤â‰∏ùÊï∞ÊàêÂ∞±
            if (gameData.host.followers >= 100) unlockAchievement('fan_100');
            if (gameData.host.followers >= 1000) unlockAchievement('fan_1000');
            if (gameData.host.followers >= 10000) unlockAchievement('fan_10000');
            
            // ‰ΩúÂìÅÊï∞ÊàêÂ∞±
            if (gameData.host.works >= 10) unlockAchievement('work_10');
            
            // Â§©Êï∞ÊàêÂ∞±
            if (gameData.day >= 7) unlockAchievement('day_7');
            if (gameData.day >= 30) unlockAchievement('day_30');
        }
        
        // ÊòæÁ§∫ÈÄöÁü•
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `event-notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        // ‰øùÂ≠òÊ∏∏Êàè
        function saveGame() {
            localStorage.setItem('streamerFanSimulator', JSON.stringify(gameData));
        }
        
        // ÁõëÂê¨ÂõûËΩ¶ÈîÆ
        document.getElementById('nicknameInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('startBtn').click();
            }
        });
        
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        document.getElementById('commentInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                postComment();
            }
        });
        
        // ÁÇπÂáªÊ®°ÊÄÅÊ°ÜÂ§ñÈÉ®ÂÖ≥Èó≠
        document.getElementById('commentModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeComments();
            }
        });
        
        // Èò≤Ê≠¢ÂèåÂáªÁº©Êîæ
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(e) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
        
        // ÂàùÂßãÂåñ
        initGame();
    </script>
    <!-- 1. Âú® <body> Êú´Â∞æÔºà</body> ‰πãÂâçÔºâÊèíÂÖ•ÈáçÊñ∞ÂêØÂä®ÊåâÈíÆ -->
<button class="next-day-btn" id="restartBtn" style="bottom:100px;right:90px;background:linear-gradient(135deg,#6b7280 0%,#ef4444 100%);">
  <div class="next-day-icon">üîÑ</div>
  <div class="next-day-text">ÈáçÂºÄ</div>
</button>

<script>
/* 2. ÈáçÊñ∞ÂºÄÂßãÈÄªËæë */
document.getElementById('restartBtn').addEventListener('click',function(){
  if(confirm('Á°ÆÂÆöË¶ÅÈáçÊñ∞ÂºÄÂßãÂêóÔºüÂΩìÂâçËøõÂ∫¶‰ºöÂÖ®ÈÉ®Ê∏ÖÁ©∫ÔºÅ')){
    localStorage.removeItem('streamerFanSimulator');
    location.reload();
  }
});
</script>

</body>
</html>
