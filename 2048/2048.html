<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>2048 合集 - 自动加载版</title>
  <style>
    /* 主框架样式（与游戏无关，零冲突） */
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
      min-height:100vh;color:#333;overflow-x:hidden
    }
    .header{
      background:rgba(255,255,255,.95);backdrop-filter:blur(10px);
      padding:15px 20px;position:sticky;top:0;z-index:100;
      box-shadow:0 2px 10px rgba(0,0,0,.1)
    }
    .header h1{font-size:24px;color:#5a67d8;font-weight:700}
    .menu-container{padding:20px;max-width:600px;margin:0 auto}
    .game-grid{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:15px;margin-top:20px
    }
    .game-button{
      background:rgba(255,255,255,.9);border:none;border-radius:12px;
      padding:20px;cursor:pointer;transition:all .3s ease;
      box-shadow:0 4px 15px rgba(0,0,0,.1);position:relative;overflow:hidden
    }
    .game-button:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.15)}
    .game-button h3{font-size:16px;color:#4a5568;margin-bottom:8px}
    .game-button p{font-size:12px;color:#718096;line-height:1.4}
    .game-page{
      display:none;position:fixed;top:0;left:0;width:100%;height:100%;
      background:#fff;z-index:1000;overflow:hidden
    }
    .game-page.active{display:block}
    .game-header{
      background:#f7fafc;padding:10px 15px;position:relative;z-index:10;
      display:flex;align-items:center;box-shadow:0 1px 3px rgba(0,0,0,.1)
    }
    .back-button{
      background:#5a67d8;color:#fff;border:none;padding:8px 16px;
      border-radius:6px;cursor:pointer;font-size:14px;transition:background .3s ease
    }
    .back-button:hover{background:#4c51bf}
    .game-iframe{
      width:100%;height:calc(100% - 54px);border:none;background:#fff
    }
    @media (max-width:480px){
      .header h1{font-size:20px}
      .menu-container{padding:15px}
      .game-grid{grid-template-columns:1fr;gap:12px}
      .game-button{padding:15px}
    }
  </style>
</head>
<body>
  <!-- 顶部栏 -->
  <div class="header"><h1>2048 小游戏合集</h1></div>

  <!-- 主菜单 -->
  <div class="menu-container">
    <div class="game-grid">
      <button class="game-button" onclick="showGame('classic')"><h3>经典玩法</h3><p>传统 2048，滑动合并</p></button>
      <button class="game-button" onclick="showGame('aiBattle')"><h3>与 AI 对战</h3><p>人机同屏竞技</p></button>
      <button class="game-button" onclick="showGame('aiPlay')"><h3>AI 玩 2048</h3><p>观看 AI 自动操作</p></button>
      <button class="game-button" onclick="showGame('ai50')"><h3>AI 50 格版</h3><p>10×5 大棋盘</p></button>
      <button class="game-button" onclick="showGame('ai4mind')"><h3>4 种 AI 思维</h3><p>四路 AI 同步对战</p></button>
      <button class="game-button" onclick="showGame('turnBased')"><h3>你一步我一步</h3><p>回合制合作</p></button>
    </div>
  </div>

  <!-- 游戏页面（仅容器） -->
  <div id="classic-page" class="game-page">
    <div class="game-header"><button class="back-button" onclick="hideGame('classic')">返回菜单</button></div>
    <iframe class="game-iframe" id="classic-iframe" src="classic.html" sandbox="allow-scripts allow-same-origin"></iframe>
  </div>

  <div id="aiBattle-page" class="game-page">
    <div class="game-header"><button class="back-button" onclick="hideGame('aiBattle')">返回菜单</button></div>
    <iframe class="game-iframe" id="aiBattle-iframe" src="aiBattle.html" sandbox="allow-scripts allow-same-origin"></iframe>
  </div>

  <div id="aiPlay-page" class="game-page">
    <div class="game-header"><button class="back-button" onclick="hideGame('aiPlay')">返回菜单</button></div>
    <iframe class="game-iframe" id="aiPlay-iframe" src="aiPlay.html" sandbox="allow-scripts allow-same-origin"></iframe>
  </div>

  <div id="ai50-page" class="game-page">
    <div class="game-header"><button class="back-button" onclick="hideGame('ai50')">返回菜单</button></div>
    <iframe class="game-iframe" id="ai50-iframe" src="ai50.html" sandbox="allow-scripts allow-same-origin"></iframe>
  </div>

  <div id="ai4mind-page" class="game-page">
    <div class="game-header"><button class="back-button" onclick="hideGame('ai4mind')">返回菜单</button></div>
    <iframe class="game-iframe" id="ai4mind-iframe" src="ai4mind.html" sandbox="allow-scripts allow-same-origin"></iframe>
  </div>

  <div id="turnBased-page" class="game-page">
    <div class="game-header"><button class="back-button" onclick="hideGame('turnBased')">返回菜单</button></div>
    <iframe class="game-iframe" id="turnBased-iframe" src="turnBased.html" sandbox="allow-scripts allow-same-origin"></iframe>
  </div>

  <script>
    /* ========== 切换页面 ========== */
    function showGame(id){
      const page=document.getElementById(id+'-page');
      if(!page) return;
      page.classList.add('active');
      document.body.style.overflow='hidden';
    }
    function hideGame(id){
      const page=document.getElementById(id+'-page');
      if(page) page.classList.remove('active');
      document.body.style.overflow='';
    }

    /* ========== ESC返回 ========== */
    document.addEventListener('keydown',e=>{
      if(e.key==='Escape'){
        const active=document.querySelector('.game-page.active');
        if(active) hideGame(active.id.replace('-page',''));
      }
    });
  </script>
</body>
</html>
